<!DOCTYPE html>
<html>
<head>
    <title>AI Chat</title>
    <style>
        /* ... (CSS styles remain the same) ... */
    </style>
</head>
<body>
    <div id="chat-container">
        <h1>AI Chat</h1>
        <div id="chat-output"></div>
        <input type="text" id="user-input" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
    </div>

    <script>
        const API_URL = 'https://burn.hair/v1/chat/completions';
        const API_KEY = 'sk-YCsPQsFRDiqk8xbW381eF4B0Ac2d405a86E52d80E5D729De'; // 替换为你的API密钥

        let conversationHistory = [];

        async function sendMessage() {
            const userInput = document.getElementById('user-input');
            const chatOutput = document.getElementById('chat-output');

            const message = userInput.value;
            userInput.value = '';

            chatOutput.innerHTML += `<p><strong>You:</strong> ${message}</p>`;

            conversationHistory.push({ role: 'user', content: message });

            const response = await fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${API_KEY}`
                },
                body: JSON.stringify({
                    model: 'claude-3-opus-20240229',
                    max_tokens: 1024,
                    messages: conversationHistory
                })
            });

            const data = await response.json();
            console.log('API response:', data);

            if (data.content && data.content[0]) {
                const botMessage = data.content[0].text;
                chatOutput.innerHTML += `<p><strong>AI:</strong> ${botMessage}</p>`;
                conversationHistory.push({ role: 'assistant', content: botMessage });
            } else {
                chatOutput.innerHTML += `<p><strong>Error:</strong> Unable to parse API response.</p>`;
            }
        }
    </script>
</body>
</html>

